{
  "name": "smartphone-light-switch-ui",
  "components": {
    "text": {
      "props": {
        "text": "string",
        "variant": "string"
      }
    },
    "button": {
      "props": {
        "label": "string",
        "style": "string",
        "action": "object"
      }
    },
    "toggle": {
      "props": {
        "label": "string",
        "checked": "boolean",
        "action": "object"
      }
    },
    "slider": {
      "props": {
        "label": "string",
        "min": "number",
        "max": "number",
        "step": "number",
        "value": "number",
        "unit": "string",
        "action": "object"
      }
    },
    "dropdown": {
      "props": {
        "label": "string",
        "placeholder": "string",
        "options": "array",
        "value": "string",
        "action": "object"
      }
    },
    "statusCard": {
      "props": {
        "title": "string",
        "value": "string",
        "icon": "string",
        "tone": "string",
        "items": "array"
      }
    },
    "container": {
      "props": {
        "children": "array",
        "layout": "string"
      }
    }
  },
  "theming": {
    "description": "Supports root `theme.primaryColor` (hex color) for accent styling.",
    "supportsPrimaryColor": true,
    "defaultPrimaryColor": "#1f6feb"
  },
  "context": {
    "modalityPreference": "visual-first"
  },
  "responseSchema": {
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "Smartphone UI Schema",
    "type": "object",
    "additionalProperties": false,
    "properties": {
      "deviceId": {
        "type": "string",
        "description": "Identifier of the target device that should render this UI definition."
      },
      "generatedAt": {
        "type": "string",
        "format": "date-time",
        "description": "Timestamp indicating when the UI was generated."
      },
      "context": {
        "type": "object",
        "description": "Arbitrary context metadata (thing references, device info, etc.).",
        "additionalProperties": true
      },
      "theme": {
        "type": "object",
        "properties": {
          "primaryColor": {
            "type": "string",
            "pattern": "^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$",
            "description": "Hexadecimal color value representing the preferred primary accent color."
          }
        },
        "additionalProperties": false
      },
      "components": {
        "type": "array",
        "minItems": 1,
        "items": { "$ref": "#/definitions/component" }
      }
    },
    "required": ["components"],
    "definitions": {
      "component": {
        "oneOf": [
          { "$ref": "#/definitions/containerComponent" },
          { "$ref": "#/definitions/textComponent" },
          { "$ref": "#/definitions/buttonComponent" },
          { "$ref": "#/definitions/toggleComponent" },
          { "$ref": "#/definitions/sliderComponent" },
          { "$ref": "#/definitions/dropdownComponent" },
          { "$ref": "#/definitions/statusCardComponent" },
          { "$ref": "#/definitions/toolCall" }
        ]
      },
      "containerComponent": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": { "const": "container" },
          "title": { "type": "string" },
          "layout": { "type": "string" },
          "thingId": {
            "type": "string",
            "description": "Optional thing identifier that all nested children primarily control."
          },
          "children": {
            "type": "array",
            "minItems": 1,
            "items": { "$ref": "#/definitions/component" }
          }
        },
        "required": ["type", "children"]
      },
      "textComponent": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": { "const": "text" },
          "text": { "type": "string" },
          "variant": { "type": "string" },
          "tone": { "type": "string" },
          "thingId": {
            "type": "string",
            "description": "Optional thing identifier this text references when showing state or instructions."
          }
        },
        "required": ["type", "text"]
      },
      "buttonComponent": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": { "const": "button" },
          "label": { "type": "string" },
          "icon": { "type": "string" },
          "style": { "type": "string" },
          "thingId": {
            "type": "string",
            "description": "Thing identifier to target when executing the bound action."
          },
          "action": {
            "description": "Action payload or identifier to execute when the button is pressed.",
            "oneOf": [
              { "type": "string" },
              { "type": "object", "additionalProperties": true }
            ]
          }
        },
        "required": ["type", "label"]
      },
      "toggleComponent": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": { "const": "toggle" },
          "label": { "type": "string" },
          "checked": { "type": "boolean" },
          "thingId": {
            "type": "string",
            "description": "Thing identifier to target when toggling."
          },
          "action": {
            "oneOf": [
              { "type": "string" },
              { "type": "object", "additionalProperties": true }
            ]
          }
        },
        "required": ["type", "label"]
      },
      "sliderComponent": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": { "const": "slider" },
          "label": { "type": "string" },
          "min": { "type": "number", "default": 0 },
          "max": { "type": "number", "default": 100 },
          "step": { "type": "number", "default": 1 },
          "value": { "type": "number" },
          "unit": { "type": "string" },
          "thingId": {
            "type": "string",
            "description": "Thing identifier to target when sending slider updates."
          },
          "action": {
            "oneOf": [
              { "type": "string" },
              { "type": "object", "additionalProperties": true }
            ]
          }
        },
        "required": ["type", "label"]
      },
      "dropdownComponent": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": { "const": "dropdown" },
          "label": { "type": "string" },
          "placeholder": { "type": "string" },
          "value": { "type": "string" },
          "thingId": {
            "type": "string",
            "description": "Thing identifier to target when selection changes."
          },
          "options": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "label": { "type": "string" },
                "value": { "type": "string" }
              },
              "required": ["label", "value"],
              "additionalProperties": false
            }
          },
          "action": {
            "oneOf": [
              { "type": "string" },
              { "type": "object", "additionalProperties": true }
            ]
          }
        },
        "required": ["type", "label", "options"]
      },
      "statusCardComponent": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": { "const": "statusCard" },
          "title": { "type": "string" },
          "value": { "type": "string" },
          "icon": { "type": "string" },
          "tone": { "type": "string" },
          "thingId": {
            "type": "string",
            "description": "Thing identifier whose state this card summarizes."
          },
          "items": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "label": { "type": "string" },
                "value": { "type": "string" }
              },
              "required": ["label", "value"],
              "additionalProperties": false
            }
          }
        },
        "required": ["type", "title"]
      },
      "toolCall": {
        "type": "object",
        "additionalProperties": false,
        "properties": {
          "type": { "const": "toolCall" },
          "tool": { "type": "string" },
          "parameters": { "type": "object", "additionalProperties": true },
          "thingId": {
            "type": "string",
            "description": "Thing identifier providing context for the tool output."
          }
        },
        "required": ["type", "tool"]
      }
    }
  }
}
